(function(h){var k=1.50877;var n=855;var C=parseInt(n*k);var c;var B;var z=-719;var H=null;var s=0;var F=window.easingSpeed||0.2;var b=window.easingInterv||30;var l=false;var o=0;var x=0;var r=0;var e=0;var q=0;var i=0;var p=0;var m=3;var d=0;var g=0;var j=0;var f=0;var D=0;var E=0;var w=0;var v=0;function A(I){if(!l){E=v-I.center.y;if(h("#imgContener img").position().top-E<=0){if((h("#imgContener img").height()+h("#imgContener img").position().top-E>h("#imgContener").height())){h("#imgContener img").css("top",h("#imgContener img").position().top-E)}}v=I.center.y;E=w-I.center.x;if(h("#imgContener img").position().left-E<=0){if((h("#imgContener img").width()+h("#imgContener img").position().left-E>h("#imgContener").width())){h("#imgContener img").css("left",h("#imgContener img").position().left-E)}}w=I.center.x}}function G(I){w=I.center.x;v=I.center.y}function y(I){}function u(J){d=J.scale;var I=0;var K=0;if(d<1){I=(h("#imgContener img").width()*(J.scale*100))/100;K=(h("#imgContener img").height()*(J.scale*100))/100;if(I>=j){E=(h("#imgContener img").width()-I)/2;if(h("#imgContener img").position().left+E<=g){if(I+h("#imgContener img").position().left+E>j){h("#imgContener img").css("left",h("#imgContener img").position().left+E)}else{h("#imgContener img").css("left",h("#imgContener img").position().left+E*2)}}E=(h("#imgContener img").height()-K)/2;if(h("#imgContener img").position().top+E<=0){if(K+h("#imgContener img").position().top+E>D){h("#imgContener img").css("top",h("#imgContener img").position().top+E)}else{h("#imgContener img").css("top",h("#imgContener img").position().top+E*2)}}h("#imgContener img").width(I)}}else{o=(h("#imgContener img").width()*(J.scale*100))/100;r=p-(h("#imgContener img").height()-i)/2;if(o<j*m||h("#imgContener img").width()<j*m){x=q-(o-e)/2;h("#imgContener img").css("left",x+"px");h("#imgContener img").css("width",o+"px");h("#imgContener img").css("top",r+"px")}}}function a(I){if(h("#imgContener img").width()<=j+50){h("#imgContener img").animate({width:j,left:g,top:f},300)}l=false}function t(I){e=parseInt(h("#imgContener img").css("width"));q=parseInt(h("#imgContener img").css("left"));i=h("#imgContener img").height();p=h("#imgContener img").position().top;o=e;l=true}h.fn.A3lightbox=function(I){var L={margin:50,nav:true,blur:false,minSize:0};var K={items:[],A3lightbox:null,image:null,current:null,locked:false,caption:null,curWidth:0,zoomIt:function J(N){if(N.pageY==H){return}var M=h(window).height();H=10*(N.pageY-h(document).scrollTop()-0.1*M)/(8*M);if(H<0){H=0}else{if(H>1){H=z}else{H=z*H}}},setPos:function(){if(H==null){return}s=s+(H-s)*F;h("#imgContener img").css("top",s)},init:function(M){var O="",P,N;M.each(function(T,S){if(h(S).parents(".owl-item").hasClass("cloned")){return}K.items.push(S)});M.each(function(T,S){if(h(S).parents("div").attr("data-id")==0){K.items.push(S);console.log(S)}});K.items.splice(K.items.length-2,1);K.selector="A3lightbox-"+Math.random().toString().replace(".","");var P=0;h(K.items).each(function(T,S){h(this).click(function(){h(K.A3lightbox).addClass("showed")});if(K.items.length-1==T){return}O+='<a href="'+this.href+'" class="min-c" rel="'+P+'"><img src="'+h(this).children("img").data("min")+'"></a>';P++});if(!K.A3lightbox){h("body").append('<div id="A3lightbox">   <div id="A3lightboxCover"></div>	<div id="allContener">		<div id="allContenerInner">			<a href="#" class="A3lightbox-close A3lightbox-button">'+h("#productSlider").attr("data-lightbox-close")+'</a>			<div id="thumbs">'+O+'</div><a href="#" class="A3lightbox-previous"></a><a href="#" class="A3lightbox-next"></a>			<div id="imgContener">											</div>		</div>	</div></div>');h(".min-c").click(function(){h(K.items[h(this).attr("rel")]).click();return false});K.A3lightbox=h("#A3lightbox");K.allContener=h("#allContener");K.imgContener=h("#imgContener");K.caption=h(".A3lightbox-caption",K.A3lightbox);if(K.allContener.css("border-width")=="0px"){var Q=document.querySelector("#imgContener");var R=new Hammer.Manager(Q);R.add(new Hammer.Pan({threshold:0,pointers:0}));R.add(new Hammer.Rotate({threshold:0})).recognizeWith(R.get("pan"));R.add(new Hammer.Pinch({threshold:0})).recognizeWith([R.get("pan"),R.get("rotate")]);R.on("panmove",A);R.on("panstart",G);R.on("panend",y);R.on("pinchmove",u);R.on("pinchstart",t);R.on("pinchend",a)}}if(K.items.length>1&&L.nav){h(".A3lightbox-nav").show()}else{h(".A3lightbox-nav").hide();h(K.A3lightbox).addClass("showedWork");h(K.A3lightbox).removeClass("showed");setTimeout(function(){h(K.A3lightbox).removeClass("showedWork")},400)}K.bindEvents();K.items.splice(K.items.length-1,1)},getImgSize:function(M){var N=new Image();N.src=M;n=N.naturalWidth;C=N.naturalHeight;k=C/n},loadImage:function(){if(L.blur){}h("img",K.imgContener).remove();K.A3lightbox.fadeIn("fast").find("#allContener").append('<span class="A3lightbox-loading"></span>');var M=h('<img src="'+h(K.current).attr("href")+'" draggable="false">');h(M).load(function(){var N=K.getImgSize(h(M).attr("src"));K.imgContener.append(M);K.resizeImage();K.setCaption()})},setCaption:function(){var M=h(K.current).data("caption");if(!!M&&M.length>0){K.caption.fadeIn();h("p",K.caption).text(M)}else{K.caption.hide()}},resizeImage:function(){var N,O,M;h("#A3lightbox").off("mousemove",K.zoomIt);if(K.allContener.css("border-width")=="0px"){K.allContener.children("#allContenerInner").children("#imgContener").children("img").fadeIn("fast",function(){h(".A3lightbox-loading").remove();h(this).css("display","block")});h("#wrap").hide();O=h(window).height()/h(window).width();if(O>k){h("#imgContener img").width(h("#imgContener").width());h("#imgContener img").css("top",(K.allContener.height()-h("#imgContener img").height())/2)}else{h("#imgContener img").width(Math.round(h("#imgContener").height()/k));h("#imgContener img").css("left",Math.round((K.allContener.width()-h("#imgContener img").width())/2))}o=parseInt(h("#imgContener img").width());K.allContener.css("top",0);g=Math.round((K.allContener.width()-h("#imgContener img").width())/2);j=Math.round(h("#imgContener img").width());f=Math.round(h("#imgContener img").position().top);D=Math.round(h("#imgContener img").height());h(window).resize(function(){K.close()})}else{K.A3lightbox.height(h("body").height());N=h(window).height()-60;M=h("#thumbs").height();if(N>C){N=C}else{if(N<M){N=M}}h("#allContener").css("height",N+32);h("#allContenerInner,#imgContener").css("height",N);h("#imgContener").css("width",n);h("#allContener").width(n+135);h("#allContener").css("margin-left",-(n+135)/2);h(".A3lightbox-next").css("left",n-65);O=h(window).height()-(N+32);if(O>0){O=O/2;h("#allContener").css("top",O+h(window).scrollTop())}else{h("#allContener").css("top",h(window).scrollTop())}z=N-C;h(window).resize(function(){N=h(window).height()-60;M=h("#thumbs").height();if(N>C){N=C}else{if(N<M){N=M}}h("#allContener").css("height",N+32);h("#allContenerInner,#imgContener").css("height",N);z=N-C;if(H<z){H=z}O=h(window).height()-(N+32);if(O>0){O=O/2;h("#allContener").css("top",O+h(window).scrollTop())}});K.allContener.children("#allContenerInner").children("#imgContener").children("img").fadeIn("fast",function(){h(".A3lightbox-loading").remove()});h("#imgContener").data("interval",setInterval(K.setPos,b));h("#A3lightbox").on("mousemove",K.zoomIt)}K.locked=false},getCurrentIndex:function(){return h.inArray(K.current,K.items)},next:function(){if(K.locked){return false}K.locked=true;if(K.getCurrentIndex()==-1){h(K.items[1]).click()}else{if(K.getCurrentIndex()>=K.items.length-1){h(K.items[0]).click()}else{h(K.items[K.getCurrentIndex()+1]).click()}}},previous:function(){if(K.locked){return false}K.locked=true;if(K.getCurrentIndex()<=0){h(K.items[K.items.length-1]).click()}else{h(K.items[K.getCurrentIndex()-1]).click()}},bindEvents:function(){h(K.items).click(function(N){if(!h("#A3lightbox").is(":visible")&&(h(window).width()<L.minSize||h(window).height()<L.minSize)){h(this).attr("target","_blank");return}var M=h(this)[0];N.preventDefault();K.current=M;K.loadImage();h(document).on("keydown",function(O){if(O.keyCode===27){K.close()}if(O.keyCode===39){K.next()}if(O.keyCode===37){K.previous()}})});K.A3lightbox.on("click",function(M){if(this===M.target){K.close()}});h("#A3lightboxCover").click(function(){K.close()});h(K.A3lightbox).on("click",".A3lightbox-previous",function(){K.previous();return false});h(K.A3lightbox).on("click",".A3lightbox-next",function(){K.next();return false});h(K.A3lightbox).on("click",".A3lightbox-close",function(){K.close();return false});h(window).resize(function(){if(!K.image){return}})},close:function(){h(document).off("keydown");h("#wrap").show();h(K.A3lightbox).addClass("showedWork");h(K.A3lightbox).removeClass("showed");setTimeout(function(){h(K.A3lightbox).removeClass("showedWork")},400)}};h.extend(L,I);K.init(this)}})(jQuery);